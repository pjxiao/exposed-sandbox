(this["webpackJsonpnote-app"]=this["webpackJsonpnote-app"]||[]).push([[0],{42:function(e,t,n){},48:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(0),c=n.n(i),r=n(11),s=n.n(r),o=(n(42),n(9)),l=(n(48),n(49),n(54)),u=n(58),d=n(55),j=n(13),b=Object(j.b)({name:"login",initialState:{state:"ANON",apiKey:"",clientId:""},reducers:{setApiKey:function(e,t){e.apiKey=t.payload},setClientId:function(e,t){e.clientId=t.payload},setState:function(e,t){e.state=t.payload}}}),h=b.actions,O=h.setApiKey,p=h.setClientId,f=h.setState,x=function(e){return e.login},v=b.reducer;function m(){var e=Object(o.c)(x),t=e.apiKey,n=e.clientId,i=Object(o.b)();return Object(a.jsxs)(l.a,{fluid:"sm",children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(u.a.Group,{children:[Object(a.jsx)(u.a.Label,{children:"API Key"}),Object(a.jsx)(u.a.Control,{type:"text",value:t,onChange:function(e){return i(O(e.target.value))}})]}),Object(a.jsxs)(u.a.Group,{children:[Object(a.jsx)(u.a.Label,{children:"Client ID"}),Object(a.jsx)(u.a.Control,{type:"text",value:n,onChange:function(e){return i(p(e.target.value))}})]})]}),Object(a.jsx)(d.a,{onClick:function(){return i((function(e,t){var n=t().login,a={apiKey:n.apiKey,clientId:n.clientId,scope:"https://www.googleapis.com/auth/spreadsheets.readonly",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]};gapi.load("client:auth2",(function(){console.log("client:auth2 has been loaded"),console.log(JSON.stringify(a)),gapi.client.init(a).then((function(){console.log();var t=gapi.auth2.getAuthInstance();t.isSignedIn.listen((function(){return e(f("AUTHED"))})),t.signIn().then((function(){return e(f("AUTHED"))}))})).catch((function(){console.error(arguments)}))}))}))},children:"Login"})]})}var g=n(57),y=n(33),I=n(56),N=n(34),D=n(60),A=n(59),E=n(30),S=n(29),k=n.n(S),w=k.a.mark(C);function C(e,t){var n,a;return k.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=e[Symbol.iterator](),a=n.next();case 2:if(a.done){i.next=10;break}return i.next=5,a.value;case 5:return i.next=7,t;case 7:a=n.next(),i.next=2;break;case 10:case"end":return i.stop()}}),w)}function H(e){var t=(e.children||"").split(" ").map((function(t,n){return Object(i.createElement)("a",Object(E.a)(Object(E.a)({},e),{},{href:"".concat("https://dictionary.cambridge.org/dictionary/english","/").concat((a=t,a.replace(/^\s|\s$/,"").replace(/'s?$/,"").replace(/[.,]$/,""))),target:"_blank",rel:"noopener noreferrer",key:n}),t);var a}));return Object(a.jsx)(a.Fragment,{children:Array.from(C(t," "))})}var L=Object(j.b)({name:"training",initialState:{state:"READY",spreadsheetId:null,sheet:"Sheet1",data:null,ptr:0,visibility:"HIDDEN"},reducers:{setState:function(e,t){e.state=t.payload},setSpreadsheetId:function(e,t){e.spreadsheetId=t.payload},setData:function(e,t){e.data=t.payload},next:function(e){null!==e.data&&e.ptr<e.data.length-1&&(e.ptr++,e.visibility="HIDDEN")},toggleVisibility:function(e){null!==e.data&&("HIDDEN"===e.visibility?e.visibility="SHOWN":"SHOWN"===e.visibility&&(e.visibility="HIDDEN"))},prev:function(e){null!==e.data&&e.ptr>0&&(e.ptr--,e.visibility="HIDDEN")}}}),K=L.actions,G=K.setState,B=K.setSpreadsheetId,W=K.setData,T=K.next,$=K.prev,F=K.toggleVisibility,J=function(e){return null===e.training.data?null:e.training.data[e.training.ptr]},P=function(e){return e.training},R=L.reducer;function U(){var e=Object(o.c)(P),t=e.spreadsheetId,n=e.visibility,i=e.state,c=Object(o.c)(J),r=Object(o.b)();return Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{variant:"dark",bg:"dark",children:Object(a.jsxs)(u.a,{inline:!0,children:[Object(a.jsx)(y.a,{type:"text",value:t||"",className:"mr-sm-2",onChange:function(e){return r(B(e.target.value))}}),Object(a.jsx)(d.a,{variant:"outline-info",onClick:function(){return r((function(e,t){var n=t().training,a=n.spreadsheetId,i=n.sheet;console.log("start load",{spreadsheetId:a,sheet:i}),a&&i&&(e(G("LOADING")),gapi.client.sheets.spreadsheets.values.get({spreadsheetId:a,range:i}).then((function(t){if(t.result.values){var n=Object.fromEntries(t.result.values[0].filter((function(e){return!!e})).map((function(e,t){return[e,t]}))),a=t.result.values.slice(1).map((function(e){return{section:Number(e[n.section])||0,num:Number(e[n["#"]])||0,ja:e[n["\u65e5\u672c\u8a9e"]]||"",en:e[n["\u82f1\u8a9e"]]||"",grammar:e[n["\u69cb\u6587"]]||"",note:e[n["\u5099\u8003"]]||""}}));e(W(a)),console.log("loaded",{data:a})}e(G("LOADED"))})).catch((function(){console.error({arguments:arguments}),e(G("FAILED"))})))}))},children:"Load"})]})}),Object(a.jsx)(l.a,{fluid:!0,children:function(){switch(i){case"READY":return Object(a.jsx)(I.a,{children:Object(a.jsx)(N.a,{children:Object(a.jsx)("p",{children:"^ INPUT SPREADSHEET ID"})})});case"LOADING":return Object(a.jsx)(I.a,{children:Object(a.jsx)(N.a,{children:Object(a.jsx)("p",{children:"LOADING"})})});case"FAILED":return Object(a.jsx)(I.a,{children:Object(a.jsx)(N.a,{children:Object(a.jsx)("p",{children:"FAILED"})})});case"LOADED":return Object(a.jsx)(I.a,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsxs)(D.a,{className:"mt-3",children:[Object(a.jsx)(D.a.Header,{children:"JA"}),Object(a.jsx)(D.a.Body,{children:null===c||void 0===c?void 0:c.ja})]}),Object(a.jsxs)(D.a,{className:"mt-3",children:[Object(a.jsx)(D.a.Header,{children:"EN"}),Object(a.jsx)(D.a.Body,{className:"SHOWN"===n?"vibible":"invisible",children:Object(a.jsx)(H,{className:"text-body",children:null===c||void 0===c?void 0:c.en})})]})]})})}}()}),Object(a.jsx)(g.a,{fixed:"bottom",variant:"dark",bg:"dark",children:Object(a.jsxs)(l.a,{fluid:!0,children:[Object(a.jsx)(A.a,{className:"ms-auto",children:Object(a.jsx)(d.a,{variant:"outline-info",onClick:function(){return r($())},children:"Prev"})}),Object(a.jsx)(A.a,{className:"me-auto ms-auto",children:Object(a.jsx)(d.a,{variant:"outline-info",onClick:function(){return r(F())},children:"TOGGLE ANSWER"})}),Object(a.jsx)(A.a,{className:"me-auto",children:Object(a.jsx)(d.a,{className:"me-auto",variant:"outline-info",onClick:function(){return r(T())},children:"Next"})})]})})]})}var V=function(){return"ANON"===Object(o.c)(x).state?Object(a.jsx)(m,{}):Object(a.jsx)(l.a,{fluid:"sm",children:Object(a.jsx)(I.a,{children:Object(a.jsx)(N.a,{children:Object(a.jsx)(U,{})})})})},Y=Object(j.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),M=Y.actions,_=(M.increment,M.decrement,M.incrementByAmount,Y.reducer),q=Object(j.a)({reducer:{counter:_,login:v,training:R}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(o.a,{store:q,children:Object(a.jsx)(V,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.f906d2ff.chunk.js.map